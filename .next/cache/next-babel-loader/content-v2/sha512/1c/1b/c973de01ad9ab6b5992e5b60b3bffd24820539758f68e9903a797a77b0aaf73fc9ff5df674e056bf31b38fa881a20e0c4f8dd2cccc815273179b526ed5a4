{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/yathartharora/Decentralised-Drive/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/yathartharora/Decentralised-Drive/pages/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Layout from '../Components/Layout';\nimport HeadText from '../Components/Heading';\nimport { Grid, Button, Form, Input, Message, Table, Icon } from 'semantic-ui-react';\nimport drive from '../Ethereum/drive';\nimport web3 from '../Ethereum/web3';\nimport ipfs from '../ipfs';\nimport { Link } from '../routes';\n\nvar DDrive = /*#__PURE__*/function (_Component) {\n  _inherits(DDrive, _Component);\n\n  var _super = _createSuper(DDrive);\n\n  function DDrive() {\n    var _this;\n\n    _classCallCheck(this, DDrive);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var accounts, key;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n\n                _this.setState({\n                  loading: true\n                });\n\n                _context.prev = 2;\n                _context.next = 5;\n                return web3.eth.getAccounts();\n\n              case 5:\n                accounts = _context.sent;\n                console.log(accounts[0]);\n                key = '0x' + _this.state.pass;\n                _context.next = 10;\n                return drive.methods.registerTodrive(key).send({\n                  from: accounts[0],\n                  gas: '1000000'\n                });\n\n              case 10:\n                _context.next = 14;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n\n              case 14:\n                _this.setState({\n                  loading: false\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 12]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"onsubmit\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var accounts, key;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                event.preventDefault();\n\n                _this.setState({\n                  load: true\n                });\n\n                _context2.prev = 2;\n                _context2.next = 5;\n                return web3.eth.getAccounts();\n\n              case 5:\n                accounts = _context2.sent;\n                console.log(accounts[0]);\n                key = 'https://ipfs.io/ipfs/' + _this.state.ipfsHash;\n                _context2.next = 10;\n                return drive.methods.upload(_this.state.name, key, _this.state.currentDateTime, _this.state.format).send({\n                  from: accounts[0],\n                  gas: '1000000'\n                });\n\n              case 10:\n                _context2.next = 14;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](2);\n\n              case 14:\n                _this.setState({\n                  load: false\n                });\n\n                _this.setState({\n                  active: 'False'\n                });\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 12]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"display\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event) {\n        var output, requestCount;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                event.preventDefault();\n\n                _this.setState({\n                  count: 0\n                });\n\n                _context3.prev = 2;\n                _context3.next = 5;\n                return drive.methods.display(_this.state.sender, '0x' + _this.state.passcode).call();\n\n              case 5:\n                output = _context3.sent;\n                console.log(output);\n\n                _this.setState({\n                  displayoutput: output\n                });\n\n                console.log(\"display output\" + _this.state.displayoutput);\n                requestCount = output.length;\n\n                _this.setState({\n                  count: requestCount\n                });\n\n                _context3.next = 15;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](2);\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[2, 13]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      displayoutput: [],\n      pass: '',\n      loading: false,\n      name: '',\n      buffer: null,\n      load: false,\n      link: '',\n      ipfsHash: '',\n      active: 'False',\n      sender: '',\n      passcode: '',\n      count: 0,\n      format: '',\n      currentDateTime: Date().toLocaleString()\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.captureFile = _this.captureFile.bind(_assertThisInitialized(_this));\n    _this.generate = _this.generate.bind(_assertThisInitialized(_this));\n    _this.onsubmit = _this.onsubmit.bind(_assertThisInitialized(_this));\n    _this.display = _this.display.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(DDrive, [{\n    key: \"generate\",\n    value: function generate(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        active: 'False'\n      });\n      ipfs.files.add(this.state.buffer, function (err, res) {\n        if (err) {\n          console.log(err);\n          return;\n        }\n\n        _this2.setState({\n          ipfsHash: res[0].hash\n        });\n\n        console.log('ipfsHash: ', _this2.state.ipfsHash);\n      });\n      this.setState({\n        active: 'True'\n      });\n    }\n  }, {\n    key: \"captureFile\",\n    value: function captureFile(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      console.log('Capture File...');\n      var file = event.target.files[0];\n      var reader = new window.FileReader();\n      reader.readAsArrayBuffer(file);\n\n      reader.onloadend = function () {\n        _this3.setState({\n          buffer: Buffer(reader.result)\n        });\n\n        console.log('buffer ', _this3.state.buffer);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var Header = Table.Header,\n          Row = Table.Row,\n          HeaderCell = Table.HeaderCell,\n          Body = Table.Body,\n          Cell = Table.Cell;\n      return /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(HeadText, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 30,\n              fontWeight: 'bolder'\n            },\n            children: \"About\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 22\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Delivering unlimited storage with complete privacy at your doorstep. Setup your MetaMask and get started now! Open to \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          columns: 3,\n          divided: true,\n          padded: true,\n          stretched: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n            children: [/*#__PURE__*/_jsxDEV(Message, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 30,\n                  fontWeight: 'bolder'\n                },\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: this.onSubmit,\n                children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Passcode\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    placeholder: \"Should be 8 characters long. Use only hexadecimal characters\",\n                    value: this.state.pass,\n                    onChange: function onChange(event) {\n                      return _this4.setState({\n                        pass: event.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  primary: true,\n                  loading: this.state.loading,\n                  secondary: true,\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Message, {\n                attached: \"bottom\",\n                warning: true,\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"help\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 21\n                }, this), \"Already registered? Start uploading\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Message, {\n              size: \"huge\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 30,\n                  fontWeight: 'bolder'\n                },\n                children: \"My Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: this.display,\n                children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: /*#__PURE__*/_jsxDEV(Message.Header, {\n                      children: \"Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 40\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: this.state.sender,\n                    onChange: function onChange(event) {\n                      return _this4.setState({\n                        sender: event.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: /*#__PURE__*/_jsxDEV(Message.Header, {\n                      children: \"Passcode\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 44\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: this.state.passcode,\n                    onChange: function onChange(event) {\n                      return _this4.setState({\n                        passcode: event.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  secondary: true,\n                  children: \"Display\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n            children: /*#__PURE__*/_jsxDEV(Message, {\n              size: \"huge\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 30,\n                  fontWeight: 'bolder'\n                },\n                children: \"Upload to Drive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: this.onsubmit,\n                children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: /*#__PURE__*/_jsxDEV(Message.Header, {\n                      children: \"File Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 44\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: this.state.name,\n                    onChange: function onChange(event) {\n                      return _this4.setState({\n                        name: event.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: /*#__PURE__*/_jsxDEV(Message.Header, {\n                      children: \"Attach File\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 44\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"file\",\n                    onChange: this.captureFile\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"File Format\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    value: this.state.format,\n                    onChange: function onChange(event) {\n                      return _this4.setState({\n                        format: event.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: this.generate,\n                  secondary: true,\n                  children: \"Upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Uploaded Hash: \", this.state.ipfsHash]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 34\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  secondary: true,\n                  loading: this.state.load,\n                  children: \"Confirm Transaction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n            children: /*#__PURE__*/_jsxDEV(Message, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          size: \"huge\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 30,\n              fontWeight: 'bolder'\n            },\n            children: \"Files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            celled: true,\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(HeaderCell, {\n                  children: \"Name of the File\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(HeaderCell, {\n                  children: \"Link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(HeaderCell, {\n                  children: \"Date Modified\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(HeaderCell, {\n                  children: \"File Format\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Body, {\n              children: this.state.displayoutput.map(function (d) {\n                return /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Cell, {\n                    children: d[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 31\n                  }, _this4), /*#__PURE__*/_jsxDEV(Cell, {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: d[1],\n                      children: \"Click here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 37\n                    }, _this4)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 31\n                  }, _this4), /*#__PURE__*/_jsxDEV(Cell, {\n                    children: d[2]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 31\n                  }, _this4), /*#__PURE__*/_jsxDEV(Cell, {\n                    children: d[3]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 31\n                  }, _this4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 29\n                }, _this4);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return DDrive;\n}(Component);\n\nexport default DDrive;","map":{"version":3,"sources":["/Users/yathartharora/Decentralised-Drive/pages/index.js"],"names":["React","Component","Layout","HeadText","Grid","Button","Form","Input","Message","Table","Icon","drive","web3","ipfs","Link","DDrive","event","preventDefault","setState","loading","eth","getAccounts","accounts","console","log","key","state","pass","methods","registerTodrive","send","from","gas","load","ipfsHash","upload","name","currentDateTime","format","active","count","display","sender","passcode","call","output","displayoutput","requestCount","length","buffer","link","Date","toLocaleString","onSubmit","bind","captureFile","generate","onsubmit","files","add","err","res","hash","file","target","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","Header","Row","HeaderCell","Body","Cell","fontSize","fontWeight","value","map","d"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Layout from '../Components/Layout'\nimport HeadText from '../Components/Heading';\nimport {Grid, Button, Form, Input, Message, Table, Icon} from 'semantic-ui-react';\nimport drive from '../Ethereum/drive';\nimport web3 from '../Ethereum/web3';\nimport ipfs from '../ipfs'\nimport {Link} from '../routes';\n\nclass DDrive extends Component{\n\n    constructor(){\n        super();\n        this.state={\n            displayoutput:[],    \n            pass: '',\n            loading: false,\n            name: '',\n            buffer: null,\n            load: false,\n            link: '',\n            ipfsHash: '',\n            active: 'False',\n            sender: '',\n            passcode: '',\n            count: 0,\n            format: '',\n            currentDateTime: Date().toLocaleString()\n        }\n        this.onSubmit = this.onSubmit.bind(this);\n        this.captureFile = this.captureFile.bind(this);\n        this.generate = this.generate.bind(this);\n        this.onsubmit = this.onsubmit.bind(this);\n        this.display = this.display.bind(this);\n    }\n\n    onSubmit = async(event) => {\n        event.preventDefault();\n        this.setState({loading:true});\n        try {\n            const accounts = await web3.eth.getAccounts();\n            console.log(accounts[0]);\n            const key = '0x' + this.state.pass;\n            await drive.methods.registerTodrive(key).send({\n                from: accounts[0],\n                gas: '1000000'\n            })\n        } catch (error) {\n            \n        }\n        this.setState({loading: false});\n    }\n\n    onsubmit = async(event) => {\n        event.preventDefault();\n        this.setState({load: true});\n        try {\n            const accounts = await web3.eth.getAccounts();\n            console.log(accounts[0]);\n            const key = 'https://ipfs.io/ipfs/' + this.state.ipfsHash;\n            await drive.methods.upload(this.state.name, key, this.state.currentDateTime,this.state.format).send({\n                from: accounts[0],\n                gas: '1000000'\n            })\n        } catch (error) {\n            \n        }\n        this.setState({load: false});\n        this.setState({active:'False'});\n    }\n    \n\n    generate(event) {\n        event.preventDefault();\n        this.setState({active:'False'});\n        ipfs.files.add(this.state.buffer, (err, res) => {\n            if(err){\n                console.log(err)\n                return\n            }\n            this.setState({ipfsHash: res[0].hash})\n            console.log('ipfsHash: ', this.state.ipfsHash);\n        })\n        this.setState({active: 'True'});\n    }\n\n    captureFile(event) {\n        event.preventDefault();\n        console.log('Capture File...')\n\n        const file = event.target.files[0];\n        const reader = new window.FileReader();\n        reader.readAsArrayBuffer(file);\n\n        reader.onloadend = () => {\n            this.setState({buffer: Buffer(reader.result)})\n            console.log('buffer ',this.state.buffer);\n        }\n    }\n\n    display = async(event) => {\n\n        event.preventDefault();\n        this.setState({count: 0})\n        try {\n            const output = await drive.methods.display(this.state.sender,'0x'+ this.state.passcode).call()\n            console.log(output);\n            this.setState({displayoutput:output})\n            console.log(\"display output\"+ this.state.displayoutput)\n            \n            const requestCount = output.length;\n            this.setState({count: requestCount});\n        } catch (error) {\n            \n        }\n        \n    }\n\n\n    render(){\n\n        const {Header, Row, HeaderCell, Body, Cell} = Table;\n        return(\n            <Layout>\n                <HeadText />\n                <br></br>\n                <Message>\n                    <div style={{fontSize: 30, fontWeight:'bolder'}}>\n                    About\n                    </div>\n                    <br></br>\n                    <div style={{fontSize: 22}}>\n                    <p>Delivering unlimited storage with complete privacy at your doorstep. Setup your MetaMask and get started now! Open to </p>\n                    </div>\n                    \n                </Message>\n                <Grid columns={3} divided padded stretched>\n                    <Grid.Column>\n                    <Message> \n                    <div style={{fontSize: 30, fontWeight:'bolder'}}>\n                        Register\n                    </div>\n                    <br></br>\n                    <Form onSubmit={this.onSubmit}>\n                        <Form.Field>\n                            <label>Passcode</label>\n                            <Input\n                             placeholder = \"Should be 8 characters long. Use only hexadecimal characters\"\n                             value = {this.state.pass}\n                             onChange = {event => this.setState({pass: event.target.value})}\n                            />\n                        </Form.Field>\n                        <Button primary loading={this.state.loading} secondary>Register</Button>\n                    </Form>\n                    <br></br>\n                    <Message attached='bottom' warning>\n                    <Icon name='help' />\n                    Already registered? Start uploading\n                    </Message>\n\n                    </Message>\n                        <Message  size=\"huge\">\n                            <div style={{fontSize: 30, fontWeight:'bolder'}}>\n                                My Files\n                            </div>\n                            <br></br>\n                            <Form onSubmit={this.display}>\n                                <Form.Field>\n                                <label><Message.Header>Address</Message.Header></label>\n                                    <Input \n                                     value = {this.state.sender}\n                                     onChange = {event => this.setState({sender: event.target.value})}\n                                    />\n                                    <label><Message.Header>Passcode</Message.Header></label>\n                                    <Input \n                                     value = {this.state.passcode}\n                                     onChange = {event => this.setState({passcode: event.target.value})}\n                                    />\n                                </Form.Field>\n                                <Button secondary>Display</Button>\n                            </Form>\n                        </Message>\n                    \n                    </Grid.Column>\n\n                    <Grid.Column >\n                        <Message size=\"huge\">\n                            <div style={{fontSize: 30, fontWeight:'bolder'}}>\n                                Upload to Drive\n                            </div>\n                            <br></br>\n                            <Form onSubmit={this.onsubmit}>\n                                <Form.Field>\n                                    <label><Message.Header>File Name</Message.Header></label>\n                                    <Input\n                                     value = {this.state.name}\n                                     onChange = {event => this.setState({name: event.target.value})}\n                                    />\n\n                                    <label><Message.Header>Attach File</Message.Header></label>\n                                    <Input\n                                     type = 'file'\n                                     onChange = {this.captureFile}\n                                    />\n\n                                    <label>File Format</label>\n                                    <Input\n                                     value = {this.state.format}\n                                     onChange = {event => this.setState({format: event.target.value})} \n                                    />\n                                </Form.Field>\n                                <Button onClick={this.generate} secondary>Upload</Button>\n                                <br></br>\n                                 <p>Uploaded Hash: {this.state.ipfsHash}</p>\n                                <br></br>\n                                <Button secondary loading={this.state.load}>Confirm Transaction</Button>\n                            </Form>\n                        </Message>\n\n                    </Grid.Column>\n\n                    <Grid.Column>\n                        <Message>\n\n                        </Message>\n                    </Grid.Column>\n                </Grid>\n\n                <Message size=\"huge\">\n                    <div style={{fontSize: 30, fontWeight:'bolder'}}>\n                        Files\n                    </div>\n                    <Table celled>\n                        <Header>\n                            <Row>\n                                <HeaderCell>Name of the File</HeaderCell>\n                                <HeaderCell>Link</HeaderCell>\n                                <HeaderCell>Date Modified</HeaderCell>\n                                <HeaderCell>File Format</HeaderCell>\n                            </Row>\n                        </Header>\n                        <Body>\n                        {this.state.displayoutput.map((d) => (\n                            <Row>\n                              <Cell>{d[0]}</Cell>\n                              <Cell><a href={d[1]}>Click here</a></Cell>\n                              <Cell>{d[2]}</Cell>\n                              <Cell>{d[3]}</Cell>\n                            </Row>\n                        ))}\n                        </Body>\n                    </Table>\n                </Message> \n            </Layout>\n        )}\n    }\n\n    export default DDrive;"]},"metadata":{},"sourceType":"module"}